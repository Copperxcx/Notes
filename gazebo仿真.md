#### 安装gazebo
1. 安装有关gazebo的相关组件；
	> sudo apt install ros-melodic-gazebo-ros-pkgs  ros-melodic-gazebo-msgs  ros-melodic-gazebo-plugins  ros-melodic-gazebo-ros-control

	> * gazebo_ros_pkgs : 它包含用于将ROS和Gazebo连接的封装和工具。

* gazebo-msgs : 它包含ROS和Gazebo交互的消息和服务的数据结构。

* gazebo-plugins : 它包含用于传感器、执行结构的Gazebo插件。

* gazebo-ros-control : 它包含用于在ROS和Gazebo之间通信的标准控制器。

2. 安装后，请使用以下命令检查Gazebo是否安装正确：

	> roscore & rosrun gazebo_ros gazebo

#### xacro文件建立robot模型
1. xacro文件是可以采用**宏**编程的xml文档，后缀名xacro；通过**rosrun xacro xacro [xacro文件名] [要生成的urdf文件名]**指令来生成urdf文件，urdf文件是**ROS下通用的描述机器人模型**的文件，定义机器人**结构**以及甚至搭载的**传感器**；
2. xacro文件开头结尾参考如下，其中name可以按自己需要；xmlns为xml的命名空间；
	> <?xml version="1.0"?>
	<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="my_robot">
		<!--   添加文档内容   -->
	</robot>

3. xacro定义与使用变量 <xacro:property name="namep" value="v100" />；
	> <xacro:property name="wheel_radius" value="0.05" />
	> radius="${wheel_radius}"

4. xacro定义宏；
	1. 宏类似于C++的内联函数，可以传递参数，生成urdf文件时，调用宏的位置将被替换成宏的内容；
	> <xacro:macro name="macro_name" params="param1 param2 param3" />
	<!--    要添加的宏的内容，调用param采用${param1}格式	  -->
	</xacro:macro>

5. xacro如何定义机器人的结构
	1. urdf采用**连杆+关节**定义机器人，xacro也一样。比如需要定义一个四轮小车，需要**1个车身主体**，**4个轮子**，以及**4个关节**连接主体与轮子；
	2. 连杆link采用如下格式定义，link下一级有<visual><inertial><collision>三个属性可以设置，导入gazebo中**必须都设置**；主要可以设置<geometry>形状，<material>颜色；具体设置参考[**wiki**](http://wiki.ros.org/urdf/XML/link)；
		> <link name="${name}">
		<visual>
			<geometry>
				<cylinder length="${width}" radius="${radius}"/>
			</geometry>
			<origin rpy="${rpy}" xyz="${xyz}" />
			<material name="black">
				<color rgba="0 0 0 1" />
			</material>
		</visual>
	</link>
	3. 关节joint采用如下格式定义，joint主要设置好名称name、连接的对象parent和child、类型type即可；具体设置参考[**wiki**](http://wiki.ros.org/urdf/XML/joint)；
	> <joint name="${name}" type="fixed">
		<parent link="${parent}"/>
		<child link="${child}" />
		<origin xyz="0 0 0" />
	</joint>

6. 将xacro文件转换成urdf文件：**rosrun xacro xacro [xacro文件路径] > [urdf文件路径]；若文档无语法错误，将生成urdf，打开文档的前几行中一般有这样的提示：
	> <!-- |    This document was autogenerated by xacro from src/my_robot/urdf/car.xacro    | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED    | -->

7. 


